    :root { color-scheme: dark; }

    html, body { height: 100%; margin: 0; padding: 0; }



    body {

      font-family: "Segoe UI Light","Segoe UI",system-ui,-apple-system,BlinkMacSystemFont,Roboto,Arial,sans-serif;

      font-weight: 300;

      letter-spacing: 0.28px;

      color: #f3f4f6;

      min-height: 100vh;

      margin: 0;

      padding: 0;

      overflow-x: hidden;

      background-color: #1f2322;

    }



    .app { max-width: 900px; margin: 0 auto; padding: 16px 16px 92px; position: relative; }



    h1 {

      font-size: 1.40rem;

      line-height: 1.12;

      margin: 6px 0 14px;

      letter-spacing: 0.2px;

      color: #f4f1ea;

      font-weight: 900;

    }



    .home-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 12px; }

    #homeScreen .home-grid { margin-top: 18px; }



    .home-card {

      border-radius: 26px;

      padding: 10px 16px;

      cursor: pointer;

      position: relative;

      overflow: hidden;

      user-select: none;

      border: 1px solid rgba(30, 29, 28, 0.18);

      box-shadow: 0 18px 50px rgba(0,0,0,0.55);

      transition: transform 0.12s ease, box-shadow 0.12s ease, border-color 0.12s ease, filter 0.12s ease;

      background: linear-gradient(135deg,

        rgba(173, 142, 88, 0.95) 0%,

        rgba(206, 138, 104, 0.92) 48%,

        rgba(179, 96, 110, 0.92) 100%

      );

    }

    .home-card:before {

      content: "";

      position: absolute;

      inset: 0;

      background:

        radial-gradient(900px 320px at 20% 15%, rgba(255,255,255,0.18), transparent 55%),

        radial-gradient(600px 240px at 80% 35%, rgba(0,0,0,0.18), transparent 60%);

      pointer-events: none;

      opacity: 1;

    }

    .home-card:hover {

      transform: translateY(-1px);

      border-color: rgba(255, 246, 230, 0.32);

      filter: brightness(1.02);

      box-shadow: 0 20px 55px rgba(0,0,0,0.60);

    }



    .card-top {

      display: flex;

      align-items: center;

      justify-content: space-between;

      gap: 10px;

      position: relative;

      z-index: 2;

    }

    .card-title {

      font-size: 0.98rem;

      line-height: 1.12;

      font-weight: 900;

      letter-spacing: 0.2px;

      color: #fbfaf7;

      text-shadow: 0 2px 12px rgba(0,0,0,0.25);

    }



    .toggle {

      display: inline-flex;

      align-items: center;

      cursor: pointer;

      user-select: none;

      gap: 8px;

      position: relative;

      z-index: 2;

    }

    .toggle-track {
      width: 40px;
      height: 22px;
      border-radius: 999px;

      background: rgba(23, 23, 23, 0.55);

      border: 1px solid rgba(255, 246, 230, 0.35);

      position: relative;

      transition: background 0.15s ease, border-color 0.15s ease, box-shadow 0.15s ease;

      box-shadow: inset 0 0 0 1px rgba(0,0,0,0.15);

    }

    .toggle-thumb {
      position: absolute;
      top: 2px;
      left: 2px;
      width: 18px;
      height: 18px;
      border-radius: 999px;

      background: rgba(255, 250, 240, 0.88);

      transition: transform 0.15s ease, background 0.15s ease;

      box-shadow: 0 6px 14px rgba(0,0,0,0.35);

    }

    .toggle.on .toggle-track {

      background: rgba(64, 224, 208, 0.92);

      border-color: rgba(64, 224, 208, 0.92);

      box-shadow: 0 0 0 1px rgba(64, 224, 208, 0.92), 0 10px 30px rgba(0,0,0,0.35);

    }

    .toggle.on .toggle-thumb {
      transform: translateX(18px);
      background: #ffffff;
    }


.global-row { display: flex; flex-wrap: wrap; gap: 12px; align-items: center; justify-content: space-between; }
.master-power {
  display: inline-flex;
  align-items: center;
  gap: 14px;
  padding: 6px 8px;
  border-radius: 999px;
  border: 1px solid rgba(64,224,208,0.65);
  background: rgba(0,0,0,0.18);
}
.master-power-label {
  font-size: 0.78rem;
  font-weight: 500;
  letter-spacing: 0.18px;
  text-transform: uppercase;
  color: rgba(255,250,240,0.86);
}


    .btn {

      border-radius: 999px;

      border: 1px solid rgba(173, 142, 88, 0.45);

      background: rgba(255, 248, 235, 0.06);

      color: #f4f1ea;

      padding: 8px 14px;

      font-size: 0.82rem;

      line-height: 1.12;

      font-weight: 900;

      cursor: pointer;

      display: inline-flex;

      align-items: center;

      gap: 8px;

      transition: transform 0.1s ease, background 0.12s ease, border-color 0.12s ease, filter 0.12s ease;

    }

    .btn:hover { border-color: rgba(255, 246, 230, 0.55); filter: brightness(1.05); }

    .btn:active { transform: translateY(1px); }

    .btn-primary {

      border: 1px solid rgba(255, 246, 230, 0.20);

      background: linear-gradient(135deg,

        rgba(173, 142, 88, 0.75),

        rgba(206, 138, 104, 0.68),

        rgba(179, 96, 110, 0.65)

      );

    }

    .btn-reset { border-color: rgba(64, 224, 208, 0.92); }

    .btn-reset.confirm { border-color: #f59e0b; box-shadow: 0 0 0 1px #f59e0b; }

    .btn-reset.success { border-color: #16a34a; background: #16a34a; color: #06110a; font-weight: 900; }



    .topbar {

      display: flex;

      align-items: center;

      justify-content: space-between;

      gap: 120px;

      margin-bottom: 28px

    }

    .hamburger {

      border: 1px solid rgba(173, 142, 88, 0.35);

      background: rgba(255, 248, 235, 0.06);

      width: 46px;

      height: 40px;

      border-radius: 14px;

      display: inline-flex;

      align-items: center;

      justify-content: center;

      cursor: pointer;

      box-shadow: 0 10px 24px rgba(0,0,0,0.30);

      transition: filter 0.12s ease, transform 0.10s ease, border-color 0.12s ease;

      flex: 0 0 auto;

    }

    .hamburger:hover { filter: brightness(1.05); border-color: rgba(255, 246, 230, 0.45); }

    .hamburger:active { transform: translateY(1px); }

    .burger { width: 20px; height: 16px; display: grid; gap: 4px; }

    .burger span {

      height: 2px;

      width: 100%;

      background: rgba(255,250,240,0.92);

      border-radius: 999px;

      display: block;

    }



    .menu-overlay {

      position: fixed;

      inset: 0;

      background: rgba(0,0,0,0.55);

      opacity: 0;

      pointer-events: none;

      transition: opacity 0.16s ease;

      z-index: 50;

    }

    .menu-overlay.show { opacity: 1; pointer-events: auto; }



    .menu-drawer {

      position: fixed;

      top: 0;

      right: 0;

      height: 100vh;

      width: min(86vw, 360px);

      background: rgba(34, 29, 22, 0.92);

      border-left: 1px solid rgba(173, 142, 88, 0.35);

      box-shadow: -20px 0 60px rgba(0,0,0,0.55);

      transform: translateX(100%);

      transition: transform 0.18s ease;

      z-index: 60;

      display: flex;

      flex-direction: column;

      overflow: hidden;

      backdrop-filter: blur(10px);

    }

    .menu-drawer.show { transform: translateX(0); }



    .menu-head {

      padding: 14px 14px 10px;

      display: flex;

      align-items: center;

      justify-content: space-between;

      gap: 12px;

      border-bottom: 1px solid rgba(255,246,230,0.10);

    }

    .menu-title { font-weight: 950; color: #f4f1ea; letter-spacing: 0.2px; line-height:1.12; }

    .menu-close {

      border: 1px solid rgba(255, 246, 230, 0.16);

      background: rgba(0,0,0,0.18);

      color: rgba(255,250,240,0.92);

      border-radius: 12px;

      width: 40px;

      height: 34px;

      cursor: pointer;

      font-weight: 950;

    }

    .menu-body { padding: 12px; overflow: auto; }



    .menu-card {

      border-radius: 16px;

      border: 1px solid rgba(173, 142, 88, 0.28);

      background: rgba(0,0,0,0.12);

      padding: 12px;

      cursor: pointer;

      display: flex;

      align-items: center;

      justify-content: space-between;

      gap: 10px;

      margin-bottom: 10px;

      transition: filter 0.12s ease, border-color 0.12s ease, transform 0.12s ease;

    }

    .menu-card:hover { filter: brightness(1.03); border-color: rgba(255, 246, 230, 0.40); transform: translateY(-1px); }

    .menu-card:active { transform: translateY(0px); }

    .menu-card .left { display: flex; flex-direction: column; gap: 2px; min-width: 0; }

    .menu-card .t1 { font-weight: 950; color: #f4f1ea; line-height:1.12; }

    .menu-card .t2 { font-weight: 900; color: rgba(255,250,240,0.70); font-size: 0.80rem; line-height:1.12; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

    .menu-card .arrow { color: rgba(255,250,240,0.82); font-weight: 950; }



    .menu-subhead { display: flex; align-items: center; gap: 10px; margin-bottom: 10px; }

    .menu-back {

      border-radius: 12px;

      border: 1px solid rgba(255, 246, 230, 0.16);

      background: rgba(0,0,0,0.18);

      color: rgba(255,250,240,0.92);

      padding: 8px 10px;

      font-size: 0.82rem;

      line-height:1.12;

      font-weight: 950;

      cursor: pointer;

    }

    .menu-subtitle { font-weight: 950; color: #f4f1ea; line-height:1.12; }



    .list-wrap { background: transparent; border: none; padding: 0; }



    #effectsScreen, #controlsScreen, #ch1PickScreen, #scenesScreen, #remoteScreen, #modesScreen, #settingsScreen { display: none; }


    .sub-header { display: flex; align-items: center; gap: 10px; margin-bottom: 10px; }
    .sub-header-right { margin-left: auto; margin-top: 6px; margin-right: 4px; }
    .back-btn {

      border-radius: 999px;

      border: 1px solid rgba(173, 142, 88, 0.45);

      background: rgba(255, 248, 235, 0.06);

      color: #f4f1ea;

      padding: 7px 12px;

      font-size: 0.82rem;

      line-height:1.12;

      font-weight: 900;

      cursor: pointer;

    }

    .sub-title-main {
      display: block;
      font-size: 1.00rem;
      line-height:1.12;
      font-weight: 950;

      letter-spacing: 0.20px;

      color: rgba(255,250,240,0.94);

      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .sub-title-main.is-ch2 { font-size: 1.30rem; letter-spacing: 0.28px; }


    .list-head { display: flex; align-items: center; justify-content: center; margin-bottom: 32px; }

    .list-head-title {

      height: 50px;

      display: flex;

      align-items: center;

      width: clamp(210px, 26vw, 280px);

      justify-content: flex-start;

      padding: 0 16px;

      border-radius: 999px;

      font-size: 1.00rem;

      line-height: 1.12;

      font-weight: 950;

      letter-spacing: 0.2px;

      color: #fbfaf7;

      background: linear-gradient(135deg,

        rgba(173, 142, 88, 0.78),

        rgba(206, 138, 104, 0.70),

        rgba(179, 96, 110, 0.68)

      );

      border: 1px solid rgba(255, 246, 230, 0.18);

      box-shadow: 0 10px 26px rgba(0,0,0,0.25);

    }



    .effects-grid, .scenes-grid {

      display: grid;

      grid-template-columns: 1fr;

      gap: 12px;

      align-items: start;

      width: clamp(210px, 26vw, 280px);

      margin: 0 auto;

    }



    .effect-card, .scene-card {

      position: relative;

      cursor: pointer;

      user-select: none;

      height: 50px;

      display: flex;

      align-items: center;

      border-radius: 999px;

      overflow: hidden;

      transition: transform 0.10s ease, filter 0.12s ease;

      border: 1px solid rgba(255, 246, 230, 0.12);

      background:

        radial-gradient(700px 240px at 20% 10%, rgba(255,255,255,0.06), transparent 55%),

        rgba(0,0,0,0.16);

      box-shadow: 0 14px 34px rgba(0,0,0,0.38);

    }



    .effect-card:after, .scene-card:after {

      content:"";

      position:absolute;

      inset: 0;

      border-radius: 999px;

      padding: 1px;

      background: linear-gradient(135deg,
        rgba(64,224,208,0.55),
        rgba(255,105,180,0.28),
        rgba(173,142,88,0.45),
        rgba(128, 90, 213, 0.40)
      );
      -webkit-mask:

        linear-gradient(#000 0 0) content-box,

        linear-gradient(#000 0 0);

      -webkit-mask-composite: xor;

      mask-composite: exclude;

      pointer-events: none;

      opacity: 0.95;

    }



    .effect-card .body, .scene-card .body {

      height: 100%;

      width: 100%;

      display: flex;

      align-items: center;

      justify-content: space-between;

      padding: 0 16px;

      position: relative;

      z-index: 2;

      gap: 12px;

    }



    .effect-card:hover, .scene-card:hover { filter: brightness(1.05); transform: translateY(-1px); }

    .effect-card:active, .scene-card:active { transform: translateY(0px); }



    .effect-card.selected, .scene-card.selected {

      border-color: rgba(64, 224, 208, 0.92);
      box-shadow: 0 14px 34px rgba(0,0,0,0.42), 0 0 0 1px rgba(64,224,208,0.45);
    }
    .effect-card.selected:after, .scene-card.selected:after{
      background: linear-gradient(135deg,
        rgba(64,224,208,0.92),
        rgba(255,105,180,0.32),
        rgba(128, 90, 213, 0.55),
        rgba(64,224,208,0.35)
      );
      opacity: 1;

    }



    .effect-name, .scene-name {

      font-size: 0.90rem;

      line-height: 1.10;

      letter-spacing: 0.15px;

      color: rgba(255,250,240,0.88);

      font-weight: 900;

      white-space: nowrap;

      overflow: hidden;

      text-overflow: ellipsis;

      text-shadow: 0 2px 12px rgba(0,0,0,0.25);

    }

    .scene-name { text-align: center; width: 100%; }



    .scene-swatches {

      display: inline-flex;

      align-items: center;

      gap: 6px;

      flex: 0 0 auto;

    }

    .scene-dot {

      width: 14px;

      height: 14px;

      border-radius: 999px;

      border: 1px solid rgba(255,246,230,0.18);

      box-shadow: 0 10px 20px rgba(0,0,0,0.35);

    }



    .controls-shell { display: grid; grid-template-columns: 1fr; gap: 12px; margin-top: 6px; }
    .controls-row { display: grid; grid-template-columns: 1.25fr 0.85fr; gap: 12px; align-items: start; }

    .controls-left .controls-grid { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 24px; }
    .controls-left .controls-grid .span-2 { grid-column: 1 / -1; }
    .controls-right { display: grid; grid-template-columns: 1fr; gap: 12px; align-items: start; }
    #controlsCh2 {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 16px;
      min-height: 60vh;
    }
    #controlsCh2 .control { width: 100%; max-width: 360px; }


    .control label {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      font-size: 0.78rem;
      line-height: 1.10;
      margin-bottom: 10px;
      color: rgba(255,250,240,0.86);
      font-weight: 500;
      letter-spacing: 0.14px;
      text-transform: uppercase;
    }
    #controlBrightness label,
    #controlBrightnessPick label { display: none; }
    #controlsCh2 .control label {
      font-size: 0.86rem;
      font-weight: 400;
      letter-spacing: 0.28px;
      text-transform: uppercase;
      color: rgba(255,250,240,0.78);
    }


    input[type="range"] {
      width: 100%;
      accent-color: rgba(255, 105, 180, 0.95);
      height: 28px;
      background: transparent;
      outline: none;
      transition: transform 0.12s ease;
    }
    input[type="range"]:active,
    input[type="range"]:focus {
      transform: scaleY(1.15);
    }
    input[type="range"]::-webkit-slider-runnable-track {
      height: 12px;
      border-radius: 999px;
      background:
        linear-gradient(90deg, rgba(255,105,180,0.35), rgba(255,105,180,0.18)),
        rgba(255,255,255,0.06);
      border: 1px solid rgba(255, 246, 230, 0.14);
      box-shadow: inset 0 0 0 1px rgba(0,0,0,0.18);
    }
    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 24px;
      height: 24px;
      border-radius: 999px;
      background:
        radial-gradient(circle at 35% 35%, rgba(255,255,255,0.95), rgba(255,255,255,0.75) 40%, rgba(255,105,180,0.85) 100%);
      border: 1px solid rgba(255, 246, 230, 0.18);
      box-shadow: 0 12px 24px rgba(0,0,0,0.45), 0 0 10px rgba(255,105,180,0.25);
      transform: translateY(-7px);
      cursor: pointer;
    }

    .brightness-wrap {
      display: grid;
      gap: 12px;
      padding: 10px;
      border-radius: 28px;
      border: 1px solid rgba(255, 246, 230, 0.12);
      background:
        linear-gradient(135deg, rgba(18,18,18,0.55), rgba(0,0,0,0.35)),
        radial-gradient(120% 120% at 0% 0%, rgba(255,255,255,0.08), transparent 60%);
      box-shadow: inset 0 0 0 1px rgba(0,0,0,0.2);
      max-width: 220px;
      margin: 0 auto;
      align-items: center;
    }
    .bri-meter { display: flex; align-items: center; justify-content: center; gap: 10px; }
    .bri-circle {
      position: relative;
      width: 76px;
      height: 76px;
      border-radius: 999px;
      border: 1px solid rgba(255, 246, 230, 0.18);
      background: rgba(0,0,0,0.22);
      overflow: hidden;
      box-shadow: inset 0 0 0 1px rgba(0,0,0,0.25), 0 14px 28px rgba(0,0,0,0.45);
      transition: transform 0.18s ease;
    }
    .bri-circle.pulse { transform: scale(1.08); }
    .bri-fill {
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
      height: 70%;
      background: linear-gradient(180deg, rgba(255,207,102,0.9), rgba(255,105,180,0.92));
      box-shadow: 0 0 18px rgba(255,105,180,0.35);
      transition: height 0.18s ease;
    }
    .bri-core {
      position: absolute;
      inset: 10px;
      border-radius: 999px;
      background:
        radial-gradient(circle at 30% 30%, rgba(255,255,255,0.25), rgba(0,0,0,0.35));
      border: 1px solid rgba(255,255,255,0.08);
      box-shadow: inset 0 0 0 1px rgba(0,0,0,0.2);
      pointer-events: none;
    }
    .bri-circle.warm { border-color: rgba(255, 222, 170, 0.28); }
    .bri-circle.cool { border-color: rgba(198, 230, 255, 0.28); }
    .bri-fill.warm {
      background: linear-gradient(180deg, rgba(255, 227, 170, 0.95), rgba(255, 171, 90, 0.9));
      box-shadow: 0 0 18px rgba(255, 200, 120, 0.35);
    }
    .bri-fill.cool {
      background: linear-gradient(180deg, rgba(210, 235, 255, 0.95), rgba(130, 190, 255, 0.9));
      box-shadow: 0 0 18px rgba(140, 200, 255, 0.35);
    }
    .bri-core.warm { background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.32), rgba(60,35,10,0.45)); }
    .bri-core.cool { background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.35), rgba(10,30,60,0.45)); }
    .bri-subhead {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      height: 28px;
      padding: 0 12px;
      border-radius: 999px;
      font-size: 0.78rem;
      font-weight: 950;
      letter-spacing: 0.3px;
      text-transform: uppercase;
      color: rgba(255,250,240,0.92);
      background: rgba(0,0,0,0.28);
      border: 1px solid rgba(255, 246, 230, 0.16);
      width: fit-content;
    }
    .bri-subhead.warm { border-color: rgba(255, 210, 150, 0.45); color: rgba(255, 230, 185, 0.95); }
    .bri-subhead.cool { border-color: rgba(175, 215, 255, 0.45); color: rgba(210, 235, 255, 0.95); }
    .bri-controls { display: flex; align-items: center; justify-content: center; gap: 8px; }
    .bri-btn {
      border-radius: 999px;
      border: 1px solid rgba(255, 246, 230, 0.12);
      background: rgba(0,0,0,0.22);
      color: rgba(255,250,240,0.92);
      font-size: 0.78rem;
      font-weight: 900;
      width: 34px;
      height: 34px;
      padding: 0;
      cursor: pointer;
      transition: transform 0.08s ease, filter 0.12s ease, border-color 0.12s ease, background 0.12s ease;
      box-shadow: 0 10px 20px rgba(0,0,0,0.3);
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }
    .bri-btn svg { width: 18px; height: 18px; fill: rgba(255,250,240,0.95); }
    .bri-btn:hover { filter: brightness(1.06); border-color: rgba(255, 246, 230, 0.28); }
    .bri-btn:active { transform: translateY(1px); }
    .bri-btn.accent {
      background:
        linear-gradient(135deg, rgba(189, 92, 255, 0.45), rgba(255, 105, 180, 0.45)),
        rgba(0,0,0,0.22);
      border-color: rgba(255, 165, 235, 0.35);
      color: rgba(255,250,240,0.96);
      box-shadow: 0 12px 26px rgba(124, 59, 255, 0.22);
    }


    .toggle-block-row {
      display: flex;
      align-items: center;
      justify-content: flex-start;
      gap: 18px;
      padding: 8px 0;
      border-top: 1px solid rgba(255,246,230,0.08);
    }
    .toggle-block-row:first-of-type { border-top: none; padding-top: 0; }



    .toggle-row-label {

      font-size: 0.76rem;

      line-height: 1.10;

      font-weight: 950;

      color: rgba(255,250,240,0.86);

      letter-spacing: 0.12px;

    }



    .special-wrap { display: none; margin-top: 10px; }
    .special-wrap.show { display: flex; align-items: center; gap: 10px; flex-wrap: wrap; }


    .arrow-wrap { display: inline-flex; align-items: center; gap: 8px; }

    .arrow-btn {
      border-radius: 14px;
      border: 1px solid rgba(255, 165, 235, 0.38);
      background:
        linear-gradient(135deg, rgba(189, 92, 255, 0.50), rgba(255, 105, 180, 0.50)),
        rgba(0,0,0,0.18);
      color: rgba(255,250,240,0.92);
      padding: 10px 12px;

      font-size: 1.0rem;

      font-weight: 950;

      cursor: pointer;

      transition: transform 0.08s ease, filter 0.12s ease, border-color 0.12s ease;

      line-height: 1;

      width: 46px;

      text-align: center;

      box-shadow: 0 10px 24px rgba(0,0,0,0.35);

    }

    .arrow-btn:hover { filter: brightness(1.08); border-color: rgba(255, 165, 235, 0.52); }
    .arrow-btn:active { transform: translateY(1px); }



    .arrow-pill {

      border: 1px solid rgba(255, 246, 230, 0.14);

      background: rgba(255, 248, 235, 0.06);

      border-radius: 999px;

      padding: 9px 12px;

      font-size: 0.82rem;

      line-height:1.12;

      font-weight: 950;

      min-width: 92px;

      text-align: center;

      color: rgba(255,250,240,0.90);

      box-shadow: inset 0 0 0 1px rgba(0,0,0,0.18);

    }



    .color-wrap {
      border-radius: 18px;
      border: 1px solid rgba(255,158,203,0.65);
      background:
        radial-gradient(700px 240px at 20% 10%, rgba(255,255,255,0.06), transparent 55%),
        rgba(0,0,0,0.16);
      box-shadow: 0 14px 34px rgba(0,0,0,0.38);

      padding: 12px;

      position: relative;

      overflow: hidden;

    }

    .color-wrap:before {

      content:"";

      position:absolute;

      left: 10px;

      right: 10px;

      top: 0px;

      height: 2px;

      border-radius: 999px;

      background: linear-gradient(90deg,
        rgba(255,158,203,0.55),
        rgba(255,105,180,0.35),
        rgba(179,96,110,0.28)
      );
      opacity: 0.9;

      pointer-events: none;

    }



    /* --- Colors (pop-up palette) --- */

    .color-header {

      display:flex;

      align-items:center;

      justify-content: space-between;

      gap: 12px;

      margin-bottom: 10px;

      color: rgba(255,250,240,0.88);

      font-weight: 950;

      letter-spacing: 0.14px;

      font-size: 0.80rem;

      line-height: 1.10;

    }



    .segbar {
      display:flex;
      align-items:center;
      justify-content: center;
      gap: 12px;
      flex-wrap: wrap;
      margin-bottom: 6px;
    }
    .segbtn {
      display:inline-flex;
      align-items:center;
      gap: 6px;
      padding: 6px;
      border-radius: 999px;
      border: 1px solid transparent;
      background: rgba(0,0,0,0.16);
      color: rgba(255,250,240,0.88);
      font-weight: 400;
      font-size: 0.70rem;
      line-height:1.12;
      cursor: pointer;
      transition: filter 0.12s ease, transform 0.10s ease, border-color 0.12s ease;

      box-shadow: inset 0 0 0 1px rgba(0,0,0,0.18);

    }

    .segbtn:hover { filter: brightness(1.05); border-color: transparent; }
    .segbtn:active { transform: translateY(1px); }

    .segbtn.active { color: rgba(255,250,240,0.96); }
    .segbtn:disabled { opacity: 0.55; cursor: not-allowed; }



    .seg-swatch {
      width: 20px;
      height: 20px;
      border-radius: 999px;
      border: none;
      box-shadow: 0 10px 20px rgba(0,0,0,0.35);
      flex: 0 0 auto;
      background: #ffffff;
    }


    .open-palette {
      margin-top: 10px;
      width: 100%;
      justify-content: center;
      border-color: rgba(255,105,180,0.65);
      font-weight: 900;
      font-size: 0.74rem;
      padding: 6px 10px;
    }


    .apply-mode-wrap { margin-top: 24px; display: flex; justify-content: center; }
    .apply-mode-btn {
      width: 70%;
      max-width: 260px;
      justify-content: center;
      border-color: rgba(206,138,104,0.65);
      background: linear-gradient(135deg,
        rgba(173, 142, 88, 0.82),
        rgba(206, 138, 104, 0.75),
        rgba(179, 96, 110, 0.72)
      );
      box-shadow: none;
    }


    .paletteOverlay {

      position: fixed;

      inset: 0;

      background: rgba(0,0,0,0.62);

      opacity: 0;

      pointer-events: none;

      transition: opacity 0.16s ease;

      z-index: 80;

    }

    .paletteOverlay.show { opacity: 1; pointer-events: auto; }



    .paletteModal {

      position: fixed;

      left: 50%;

      top: 50%;

      transform: translate(-50%, -50%) scale(0.98);

      width: min(520px, 92vw);

      border-radius: 26px;

      border: 1px solid rgba(64,224,208,0.62);
      box-shadow: 0 18px 60px rgba(0,0,0,0.65);

      background:

        radial-gradient(900px 340px at 20% 12%, rgba(255,255,255,0.06), transparent 55%),

        rgba(20, 24, 23, 0.92);

      backdrop-filter: blur(10px);

      padding: 14px 14px 16px;

      z-index: 90;

      opacity: 0;

      pointer-events: none;

      transition: opacity 0.16s ease, transform 0.16s ease;

    }

    .paletteModal.show {

      opacity: 1;

      pointer-events: auto;

      transform: translate(-50%, -50%) scale(1);

    }



    .paletteHead {

      display:flex;

      align-items:center;

      justify-content: space-between;

      gap: 10px;

      margin-bottom: 10px;

    }

    .paletteTitle {

      font-weight: 950;

      color: rgba(255,250,240,0.94);

      letter-spacing: 0.2px;

      line-height: 1.12;

    }

    .paletteClose {

      border: 1px solid rgba(255, 246, 230, 0.16);

      background: rgba(0,0,0,0.18);

      color: rgba(255,250,240,0.92);

      border-radius: 12px;

      width: 40px;

      height: 34px;

      cursor: pointer;

      font-weight: 950;

    }

    .paletteSeg {

      display: flex;

      gap: 8px;

      flex-wrap: wrap;

      margin-bottom: 10px;

    }



    .paletteGrid {

      display:grid;

      grid-template-columns: repeat(7, 28px);

      gap: 6px;

      padding: 8px 4px 6px;

      justify-content: space-between;

    }



    .palDot {

      width: 28px;

      height: 28px;

      border-radius: 999px;              /* â circular */

      border: 1px solid rgba(255,246,230,0.14);

      cursor: pointer;

      position: relative;

      box-shadow: 0 10px 22px rgba(0,0,0,0.40);

      transition: transform 0.10s ease, filter 0.12s ease, border-color 0.12s ease;

      overflow:hidden;

      background: #fff;                  /* â solid */

    }

    .palDot:hover { filter: brightness(1.05); transform: translateY(-1px); border-color: rgba(255,246,230,0.22); }

    .palDot:active { transform: translateY(0px); }

    .palDot.selected {
      border-color: rgba(64,224,208,0.92);
      box-shadow: 0 10px 22px rgba(0,0,0,0.40), 0 0 0 1px rgba(64,224,208,0.45);
    }


    .paletteActions {

      display:flex;

      justify-content: center;

      padding: 6px 4px 2px;

    }

    .paletteSelect {

      width: 100%;

      justify-content: center;

      border-color: rgba(255,255,255,0.16);

      background: rgba(0,0,0,0.18);

      color: #f4f1ea;

      box-shadow: inset 0 0 0 1px rgba(0,0,0,0.18);

    }



    /* Pick screen */

    .pick-grid { display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap: 12px; margin-top: 22px; }
    #ch1PickScreen .pick-grid { margin-top: 46px; }
    .pick-brightness { margin-top: 44px; display: flex; justify-content: center; }
    .pick-brightness .control { width: 100%; max-width: 260px; }
    .blend-toggle-wrap { display: none; margin-top: 8px; justify-content: flex-start; }
    .linked-group { display: inline-flex; align-items: center; gap: 12px; }
    .spotlight-stepper { display: flex; align-items: center; gap: 8px; margin-top: 8px; }
    .spotlight-value {
      min-width: 28px;
      text-align: center;
      font-size: 0.82rem;
      font-weight: 900;
      color: rgba(255,250,240,0.86);
    }
    .pick-card {

      border-radius: 26px;

      padding: 14px 16px;

      cursor: pointer;

      position: relative;

      overflow: hidden;

      user-select: none;

      border: 1px solid rgba(30, 29, 28, 0.18);

      box-shadow: 0 18px 50px rgba(0,0,0,0.55);

      transition: transform 0.12s ease, box-shadow 0.12s ease, border-color 0.12s ease, filter 0.12s ease;

      background: linear-gradient(135deg,

        rgba(173, 142, 88, 0.92) 0%,

        rgba(206, 138, 104, 0.88) 48%,

        rgba(179, 96, 110, 0.88) 100%

      );

      height: 74px;

      display:flex;

      align-items:center;

      justify-content: space-between;

      gap: 12px;

    }

    .pick-card:before {

      content: "";

      position: absolute;

      inset: 0;

      background:

        radial-gradient(900px 320px at 20% 15%, rgba(255,255,255,0.16), transparent 55%),

        radial-gradient(600px 240px at 80% 35%, rgba(0,0,0,0.18), transparent 60%);

      pointer-events: none;

      opacity: 1;

    }

    .pick-card:hover { transform: translateY(-1px); border-color: rgba(255, 246, 230, 0.32); filter: brightness(1.02); box-shadow: 0 20px 55px rgba(0,0,0,0.60); }

    .pick-card:active { transform: translateY(0px); }

    .pick-title {

      font-size: 1.02rem;

      line-height: 1.12;

      font-weight: 950;

      letter-spacing: 0.2px;

      color: rgba(255,250,240,0.96);

      text-shadow: 0 2px 12px rgba(0,0,0,0.25);

      position: relative;

      z-index: 2;

    }

    .pick-sub {

      font-size: 0.78rem;

      line-height: 1.12;

      font-weight: 900;

      color: rgba(255,250,240,0.75);

      position: relative;

      z-index: 2;

      margin-top: 3px;

    }

    .pick-arrow { position: relative; z-index: 2; font-weight: 950; color: rgba(255,250,240,0.92); }



    /* --- Gate screens --- */

    #introScreen, #bleScreen { display: none; }
    #introScreen.show { display: block; }
    #bleScreen.show { display: grid; place-items: center; }


    .gate-wrap {

      max-width: 900px;

      margin: 0 auto;

      padding: 16px;

      position: relative;

      min-height: 100vh;

      display: grid;

      place-items: center;

    }



    .intro-title {

      font-weight: 900;

      letter-spacing: 0.2px;

      color: #f4f1ea;

      text-align: center;

      font-size: clamp(2.4rem, 6vw, 3.8rem);

      line-height: 1.05;

      padding: 0 10px;

      opacity: 1;

      transform: translateY(0);

    }



    /* intro fade */

    #introScreen.fadeout .intro-title {

      opacity: 0;

      transform: translateY(-6px);

      transition: opacity 0.28s ease, transform 0.28s ease;

    }



    /* BLE card alignment */

    #bleScreen {
      height: 100dvh;
      overflow: hidden;
      background: #1f2322;
    }

    .bleStage {
      height: 100%;
      min-height: 100%;
      display: grid;
      place-items: center;
      padding: 12px;
      box-sizing: border-box;
      width: 100%;
    }


    .ble-card {
      width: min(300px, 84vw);
      min-height: min(260px, 36dvh);
      border-radius: 34px;
      overflow: hidden;
      border: 1px solid rgba(255, 246, 230, 0.22);
      box-shadow: 0 22px 60px rgba(0,0,0,0.55);
      padding: 22px 20px 24px;
      position: relative;
      isolation: isolate;
      display: flex;
      flex-direction: column;
      background:
        radial-gradient(820px 320px at 18% 10%, rgba(255,255,255,0.12), transparent 55%),
        linear-gradient(135deg,
          rgba(173, 142, 88, 0.88),
          rgba(206, 138, 104, 0.78),
          rgba(179, 96, 110, 0.74)
        );
      backdrop-filter: blur(10px);
      opacity: 0;
      transform: translateY(10px) scale(0.99);
      transition: opacity 0.28s ease, transform 0.28s ease;
    }
    .ble-card > * {
      position: relative;
      z-index: 2;
    }
    .ble-card:after {
      content: "";
      position: absolute;
      inset: 0;
      z-index: 1;
      background:
        radial-gradient(420px 220px at 90% 0%, rgba(64,224,208,0.18), transparent 60%),
        radial-gradient(420px 240px at 0% 100%, rgba(255,255,255,0.10), transparent 60%);
      pointer-events: none;
    }
    #bleScreen.show .ble-card {

      opacity: 1;

      transform: translateY(0) scale(1);

    }



    .ble-head {

      display:flex;

      align-items:center;

      justify-content: space-between;

      gap: 12px;

      margin-bottom: 12px;

      position: relative;

      z-index: 2;

    }



    .ble-title {
      font-size: 1.22rem;
      line-height: 1.12;
      font-weight: 950;
      letter-spacing: 0.35px;
      color: rgba(255,250,240,0.95);
      padding-left: 6px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .ble-subtitle {
      margin: 2px 6px 12px;
      font-size: 0.86rem;
      line-height: 1.4;
      font-weight: 700;
      color: rgba(255,250,240,0.78);
      position: relative;
      z-index: 2;
    }

    .chip {
      display:inline-flex;
      align-items:center;
      gap: 8px;
      border-radius: 999px;
      padding: 8px 12px;

      border: 1px solid rgba(255, 246, 230, 0.14);

      background: #1f2322;

      color: rgba(255,250,240,0.90);

      font-weight: 950;

      font-size: 0.82rem;

      line-height: 1.12;

      box-shadow: inset 0 0 0 1px rgba(0,0,0,0.18);

      position: relative;

      z-index: 2;

      white-space: nowrap;

      transition: background 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease, color 0.2s ease;

    }

    .chip-connected {

      border-color: rgba(64, 224, 208, 0.95);
      background: rgba(64, 224, 208, 0.95);
      color: #0b1f1c;
      box-shadow: 0 0 0 1px rgba(64, 224, 208, 0.65), 0 10px 24px rgba(0,0,0,0.35);
    }
    .chip-success {
      border-color: rgba(64, 224, 208, 0.95);
      background: rgba(64, 224, 208, 0.95);
      color: #0b1f1c;
      box-shadow: 0 0 0 1px rgba(64, 224, 208, 0.65), 0 10px 24px rgba(0,0,0,0.35);
    }


    .ble-actions{
      display:flex;
      gap: 10px;
      flex-direction: column;
      align-items: stretch;
      margin-top: auto;
      position: relative;
      z-index: 2;
    }
    .ble-actions .btn {
      width: 100%;
      justify-content: center;
      padding: 10px 16px;
    }
    @media (min-width: 520px) {
      .ble-actions { flex-direction: row; flex-wrap: wrap; }
      #btnBleScanConnect { flex: 1 1 100%; }
      #btnBleSkip, #btnBleDisconnect { flex: 1 1 200px; }
    }


    .bleStatus {
      margin-top:10px;
      font-size:0.82rem;
      line-height:1.2;
      font-weight:900;
      color:rgba(255,250,240,0.78);
      position:relative;
      z-index:2;
    }
    .bleStatus:empty { display: none; }
    .ble-console {
      margin-top: 10px;
      border-radius: 16px;
      padding: 12px;
      border: 1px solid rgba(255, 246, 230, 0.14);
      background: rgba(10, 12, 12, 0.6);
      color: rgba(255, 246, 230, 0.9);
      font-family: "Consolas", "Courier New", monospace;
      font-size: 0.75rem;
      line-height: 1.35;
      max-height: 220px;
      overflow: auto;
      white-space: pre-wrap;
      word-break: break-word;
    }
    .ble-console-actions {
      margin-top: 10px;
      display: flex;
      justify-content: flex-end;
    }


    #btnBleScanConnect {
      border-color: rgba(64, 224, 208, 0.95);
      background:
        linear-gradient(135deg,
          rgba(15, 24, 23, 0.85),
          rgba(20, 31, 30, 0.92)
        );
      color: #f4f1ea;
      font-weight: 700;
      box-shadow:
        0 0 0 1px rgba(64, 224, 208, 0.55),
        0 14px 28px rgba(0,0,0,0.38);
    }


    /* â Connected animation + transition */

    .connectedAnim {

      position: fixed;

      inset: 0;

      display: grid;

      place-items: center;

      background: rgba(0,0,0,0.62);

      backdrop-filter: blur(8px);

      opacity: 0;

      pointer-events: none;

      transition: opacity 0.22s ease;

      z-index: 120;

    }

    .connectedAnim.show { opacity: 1; pointer-events: auto; }



    .connectedBadge {

      width: min(520px, 92vw);

      border-radius: 26px;

      border: 1px solid rgba(64,224,208,0.85);
      background:

        radial-gradient(900px 340px at 20% 12%, rgba(255,255,255,0.08), transparent 55%),

        rgba(20, 24, 23, 0.92);

      box-shadow: 0 18px 60px rgba(0,0,0,0.70);

      padding: 22px 18px;

      display:flex;

      align-items:center;

      justify-content: space-between;

      gap: 14px;

      transform: translateY(6px) scale(0.98);

      animation: popIn 0.28s ease forwards;

    }

    @keyframes popIn {

      to { transform: translateY(0) scale(1); }

    }

    .checkWrap {

      width: 54px;

      height: 54px;

      border-radius: 999px;

      border: 1px solid rgba(64,224,208,0.65);
      box-shadow: 0 0 0 1px rgba(64,224,208,0.35), 0 18px 42px rgba(0,0,0,0.55);
      display:grid;
      place-items:center;
      background: rgba(64,224,208,0.10);
      position: relative;

      overflow:hidden;

    }

    .checkWrap:before{

      content:"";

      position:absolute;

      inset:-40%;

      background: conic-gradient(from 0deg, rgba(64,224,208,0.0), rgba(64,224,208,0.35), rgba(64,224,208,0.0));
      animation: spin 0.9s linear infinite;

      opacity: 0.9;

    }

    @keyframes spin {

      to { transform: rotate(360deg); }

    }

    .checkIcon {

      position: relative;

      z-index: 2;

      font-size: 1.4rem;

      font-weight: 950;

      color: rgba(255,250,240,0.95);

      text-shadow: 0 6px 18px rgba(0,0,0,0.35);

    }

    .connectedText {

      display:flex;

      flex-direction: column;

      gap: 4px;

      min-width: 0;

    }

    .connectedText .t1 {

      font-weight: 950;

      color: rgba(255,250,240,0.94);

      letter-spacing: 0.2px;

      line-height: 1.12;

      font-size: 1.05rem;

      white-space: nowrap;

      overflow: hidden;

      text-overflow: ellipsis;

    }

    .connectedText .t2 {

      font-weight: 900;

      color: rgba(255,250,240,0.72);

      font-size: 0.82rem;

      line-height: 1.12;

    }



    #appRoot { display: none; }

    #appRoot.show { display: block; }



    .panel {

      border-radius: 22px;

      border: 1px solid rgba(255, 246, 230, 0.10);

      background: rgba(0,0,0,0.18);

      box-shadow: 0 14px 34px rgba(0,0,0,0.38);

      padding: 14px 16px;

      color: #f4f1ea;

    }

    .panel-title {

      font-weight: 950;

      letter-spacing: 0.2px;

      margin-bottom: 6px;

    }

.panel-sub {
  font-size: 0.82rem;
  color: rgba(255,250,240,0.75);
  margin-bottom: 12px;
  font-weight: 900;
}
.modes-title {
  font-size: 1.40rem;
  letter-spacing: 0.2px;
}
.modes-add-wrap { display: grid; gap: 10px; margin-top: 14px; }
#modesScreen .sub-header { margin-bottom: 30px; }
.mode-add-card {
  display: grid;
  justify-items: center;
  gap: 8px;
  padding: 8px 0;
  background: transparent;
  cursor: pointer;
  user-select: none;
}
.mode-add-circle {
  width: 48px;
  height: 48px;
  border-radius: 999px;
  border: 1px solid rgba(64,224,208,0.85);
  display: flex;
  align-items: center;
  justify-content: center;
  color: rgba(64,224,208,0.95);
  font-weight: 700;
  background: rgba(0,0,0,0.35);
}
.mode-add-plus {
  width: 22px;
  height: 22px;
  fill: rgba(64,224,208,0.95);
  display: block;
}
.mode-add-text {
  font-size: 0.82rem;
  font-weight: 900;
  color: rgba(255,250,240,0.88);
}
.mode-channel { margin-top: 12px; }
.mode-channel-title {
  font-size: 0.80rem;
  font-weight: 900;
      color: rgba(255,250,240,0.80);
      margin-bottom: 8px;
      text-transform: uppercase;
      letter-spacing: 0.2px;
    }
    .mode-channel-actions { display: flex; gap: 8px; flex-wrap: wrap; }
    .mode-channel-btn { border-color: rgba(255,255,255,0.16); background: rgba(0,0,0,0.18); }
.mode-list { display: grid; gap: 10px; width: clamp(210px, 26vw, 280px); margin: 0 auto; }
.mode-card { width: 100%; }
.mode-card.selected {
  border-color: rgba(64,224,208,0.85);
  box-shadow: 0 14px 34px rgba(0,0,0,0.42), 0 0 0 1px rgba(64,224,208,0.45);
}
    .mode-name {
      font-weight: 950;
      letter-spacing: 0.2px;
      color: rgba(255,250,240,0.92);
    }
.mode-actions { display: flex; gap: 8px; }
.mode-delete {
  border: none;
  background: transparent;
  color: rgba(255,250,240,0.90);
  height: 32px;
  padding: 0;
  border-radius: 0;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}
.mode-delete svg { width: 24px; height: 24px; fill: rgba(64,224,208,0.95); }

.mode-modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.62);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 120;
}
.mode-modal-overlay.show { display: flex; }
.mode-modal {
  width: min(420px, 88vw);
  border-radius: 22px;
  border: 1px solid rgba(255, 246, 230, 0.18);
  background: rgba(20, 24, 23, 0.92);
  padding: 16px;
  box-shadow: 0 18px 60px rgba(0,0,0,0.55);
}
.mode-modal-title {
  font-weight: 900;
  color: rgba(255,250,240,0.94);
  letter-spacing: 0.2px;
  margin-bottom: 10px;
}
.mode-modal-input {
  width: 100%;
  padding: 10px 12px;
  border-radius: 12px;
  border: 1px solid rgba(255, 246, 230, 0.16);
  background: rgba(0,0,0,0.22);
  color: rgba(255,250,240,0.92);
  font-weight: 700;
  letter-spacing: 0.2px;
  outline: none;
}
.mode-modal-actions {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  margin-top: 12px;
}
.mode-modal-btn {
  border-color: rgba(255, 246, 230, 0.16);
  background: rgba(0,0,0,0.18);
}
.mode-modal-confirm {
  border-color: rgba(64,224,208,0.65);
}



    .remote-disconnected {

      margin-top: 10px;

      font-weight: 950;

      letter-spacing: 0.2px;

      color: rgba(255,250,240,0.90);

      font-size: 0.96rem;

    }



    .remote-header {

      display: flex;

      align-items: center;

      justify-content: space-between;

      gap: 12px;

      margin-bottom: 6px;

    }



    .remote-status {

      display: inline-flex;

      align-items: center;

      gap: 8px;

      padding: 6px 10px;

      border-radius: 999px;

      border: 1px solid rgba(255,255,255,0.12);

      background: rgba(0,0,0,0.18);

      color: rgba(255,250,240,0.8);

      font-size: 0.72rem;

      font-weight: 700;

      white-space: nowrap;

    }

    .remote-connection {

      display: flex;

      align-items: center;

      justify-content: flex-end;

      margin: 6px 0 4px;

    }

    .remote-connection-label {

      display: inline-flex;

      align-items: center;

      gap: 8px;

      font-size: 0.74rem;

      font-weight: 800;

      color: rgba(255,250,240,0.82);

      letter-spacing: 0.2px;

    }

    .remote-connection-label input[type="checkbox"] {
      width: 14px;
      height: 14px;
      accent-color: rgba(64,224,208,0.95);
      cursor: default;
    }
    .remote-modes {
      margin-top: 12px;
      display: grid;
      gap: 10px;
    }
    .remote-modes-head {
      font-weight: 950;
      letter-spacing: 0.2px;
      color: rgba(255,250,240,0.88);
      font-size: 0.86rem;
    }
    .remote-modes-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 12px;
      width: clamp(210px, 26vw, 280px);
      margin: 0 auto;
    }
    .remote-mode-card {
      width: 100%;
    }
    .remote-mode-sub {
      font-weight: 900;
      color: rgba(255,250,240,0.70);
      font-size: 0.72rem;
      letter-spacing: 0.14px;
      text-transform: uppercase;
      white-space: nowrap;
    }
    .remote-dot {

      width: 10px;

      height: 10px;

      border-radius: 999px;

      background: rgba(255,255,255,0.25);

      box-shadow: inset 0 0 0 1px rgba(0,0,0,0.25);

    }

    .remote-dot.on {

      background: rgba(64,224,208,0.95);
      box-shadow: 0 0 8px rgba(64,224,208,0.55), 0 0 0 1px rgba(64,224,208,0.65);
    }



    /* remote color cards removed */

    #warmWhiteCh2Value,
    #coldWhiteCh2Value {
      font-size: 0.78rem;
      color: rgba(255,250,240,0.75);
      font-weight: 800;
    }


    .bottom-nav {

      position: fixed;

      left: 50%;

      transform: translateX(-50%);

      bottom: 0;

      width: min(900px, calc(100% - 32px));

      background: linear-gradient(135deg,

        rgba(173, 142, 88, 0.95),

        rgba(206, 138, 104, 0.90),

        rgba(179, 96, 110, 0.90)

      );

      border-top: 1px solid rgba(30, 29, 28, 0.18);

      display: grid;

      grid-template-columns: repeat(4, 1fr);

      gap: 0;

      padding: 8px 8px 10px;

      z-index: 70;

      backdrop-filter: blur(10px);

      border-top-left-radius: 18px;

      border-top-right-radius: 18px;

    }

    .nav-item {

      border: none;

      background: transparent;

      color: #f4f1ea;

      font-weight: 300;

      font-size: 0.66rem;

      padding: 8px 4px;

      cursor: pointer;

      display: flex;

      flex-direction: column;

      align-items: center;

      gap: 4px;

      transition: transform 0.1s ease, filter 0.12s ease, color 0.12s ease;

      position: relative;

    }

    .nav-item:hover { filter: brightness(1.05); }

    .nav-item:active { transform: translateY(1px); }

    .nav-item.active { color: rgba(64,224,208,0.95); }
    .nav-item.active::before {

      content: "";

      position: absolute;

      top: 2px;

      width: 34px;

      height: 34px;

      border-radius: 999px;

      background: rgba(39, 160, 150, 0.30);

      z-index: -1;

    }

    .nav-icon {

      width: 20px;

      height: 20px;

      fill: currentColor;

      display: block;

    }



    @media (max-width: 580px) {

      .controls-row { grid-template-columns: 1fr; }

      .paletteGrid { grid-template-columns: repeat(7, 24px); }

      .palDot { width: 24px; height: 24px; }

    }

  

